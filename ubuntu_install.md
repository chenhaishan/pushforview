# 安装Ubuntu(双系统)
-------

> * Ubuntu系统选择


## Ubuntu系统选择
```
选择Ubuntu桌面版64位
Ubuntu有长期支持版本Long Term Susport(LTS)
: 12LTS 14LTS 16LTS
长期支持版本号都是偶数，Ubuntu会提供5年的长期支持，所以比较稳定可靠。
https://www.ubuntu.com/download/desktop

可以选择torrent下载的方式
```

## 在Windows环境下制作Ubuntu安装U盘
```
前提：一个大于4G的闲置U盘(制作之前先备份U盘内容)
工具：Universal USB Installer
使用：https://www.pendrivelinux.com/universal-usb-installer-easy-as-1-2-3/

```

## 安装Ubuntu系统
```
启动：开机后按住F12选择从U盘启动
选项：选择"Install Ubuntu"
语言：选择"中文(简体)"
无线：选择"我现在不想链接wi-fi无线网路"
第三方：选中"为图像或无线硬件，以及MP3和其他媒体安装第三方软件"
安装类型：选中"其他选项"
```
```
分区：此时将显示所有的可存储设备供选择
硬盘在linux中被映射为设备文件，例如
/dev/sda
/dev/sdb
/dev/sdc
分别代表第1，2，3个存储设备，可以通过这些设备的信息
（名称，大小）来判断这些设备是内置硬盘还是U盘或是其
它。这些信息可以在"安装启动引导器的设备"的下拉菜单
中获得。(需要注意的是，这个选项是决定Ubuntu又哪一块
存储设备进行开机引导，一定要选择内置的存储设备，一般
是和双系统同一个存储设备)

例如：
机器中有两个存储设备
```
|设备文件|大小|其他信息|
|:-|:-|:-|
|/dev/sda|300G|希捷内置硬盘|
|/dev/sdb|16G|闪迪U盘|

```
这两个存储设备下面可能有分为几个分区
例如：

|-/dev/sda
    |--/dev/sda1
	|--/dev/sda5
	|--/dev/sda6
	|--/dev/sda7
	|--/dev/sda8

实际上这里有两个关于分区的概念：主分区和逻辑分区
简答来说，如果有一块/dev/sda的设备，那么
/dev/sda1-4都是预留给主分区的，可以将磁盘最多分为
4个主分区。只有主分区才可以作为系统的启动引导分区。
在进行磁盘分区的时候，首先划分有几个主分区，一般
来说，只要一个启动引导分区就行，所以一般只要一个
引导分区就行（以Windows来说就是C盘所在的分区是启
动引导分区；以Linux系统来说一般是/boot所在的分区
是启动引导分区。即使是双系统，我们也只需要一个引
导分区）。
因为主分区一般是包含系统启动引导信息的，所以不能
像逻辑分区一样可以查分、合并。但是逻辑分区的概念
其实存在于主分区中。以上述/dev/sda为例，其实它被
划分为两个主分区：/dev/sda1和/dev/sda2，只是第二
个分区用于划分逻辑分区了。以Windows为例，假设系统
安装在C盘，另外还有D、E、F三个盘，那么实际上sda1
对应于C盘，sda5 6 7分别对应于D、E、F三个逻辑分区，
而这三个逻辑分区实际属于一个主分区sda2。即：

|-/dev/sda
  |--/dev/sda1     C盘
  |--/dev/sda2
     |--/dev/sda5  D盘
	 |--/dev/sda6  E盘
	 |--/dev/sda7  F盘

DEF作为逻辑分区，可以进行任意的拆分合并操作而不影
响系统；而C作为主分区是不能够拆分或合并的，因为一
旦进行这样操作就必须重新写入引导信息。

```

```
分区的增删改
此时Ubuntu的界面上有一行共5个选项：

+ - 更改...        新建分区表... 还原

+ - 分别表示增/减一个分区。例如有如下磁盘分区：

|-/dev/sda
  |--/dev/sda1    ntfs    40G    Windows10
  |--/dev/sda5    ntfs    200G
  |--/dev/sda6    ext4    40G    Ubuntu17
  |--/dev/sda7    swap    8G
  |--/dev/sda8    ext4    80G

由以上信息可知，这块磁盘一共有两个主分区，其中
Windows安装在第一个主分区/dev/sda1上；sda5是一个
ntfs的分区，可以猜测它其实是Windows的一个盘（例如
D盘）；sda6上安装了Ubuntu系统，它的格式ext4，是
一种Linux系统常用的文件系统格式；sda7是一个swap
分区，这个是Linux中特有的概念(Windows中一般不会
建有这个分区),其大小一般和机器内存一样。最后一个
sda8也是Linux系统格式的分区。

Linux系统和Windows不一样的地方在于挂在点的概念：
Linux的文件系统结构例如：

/
|--boot
|
|--dev
|   |--sda
|   |--sda1
|   |--sda5
|   |--sdb
|   |--sdb1
|
|--home
|   |--chenhaishan
|   |   |--Desktop
|   |   |--Documents
|   |
|   |--zhengteng
|       |--Desktop
|       |--Documents
|
|--usr
|   |--bin
|   |--include
|
|...


Linux的根目录是 / 
其他的目录或文件都是这棵树的子节点，但是这些
目录子节点可以挂在到任意的分区，这样做的可以
便于管理：
就像Windows把系统装在C盘，其他软件/资料等放在
其他盘一样，当需要重装系统时只需要改动C盘而不
需要改动其他的盘。
Linux中经常单独挂在的点有
/home  这是用户目录，存放所有用户的数据。
/usr   这是Linux软件安装的默认目录

结论：
一般只需要给/目录分配20G，给/home目录分配50G
，另外再分配8G的swap就可以了。其他多余的内存
可以按照需要划分，或者单独划为一个ntfs分区用
于Windows和Linux共同使用。

实际操作：
1.选中一个分区
2.点击“-”删除该分区，内存被回收变为“空闲”
3.选中“空闲”的内存，点击“+”划分一个分区
```
|大小|新分区的类型|新分区的位置|用于|挂在点|
|:-|:-|:-|:-|:-|
|20480M|逻辑分区|空间起始位置|Ext4日志文件系统|/|
|8196M|逻辑分区|空间起始位置|交换空间||
|51200M|逻辑分区|空间起始位置|Ext4日志文件系统|/home|


```
然后会提示你是否按照上述的划分格式化，同意。
最后选择“安装系统引导器的设备”为Windows所在的磁盘，
例如：/dev/sda
选择“现在安装”
```
